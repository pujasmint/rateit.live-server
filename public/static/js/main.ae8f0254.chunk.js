(window["webpackJsonprateit-client"]=window["webpackJsonprateit-client"]||[]).push([[0],{163:function(e,t,a){},164:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(22),i=a.n(r),c=a(4),o=a(5),l=a(8),u=a(7),p=a(9),m=a(25),h=a(34),d=a(20),g=a(18),f=a(14),v=a(16),E=a.n(v),b=function(){function e(){Object(c.a)(this,e),this.errorHandler=function(e){throw e};var t=E.a.create({baseURL:"".concat("https://rateit-live.herokuapp.com/api","/auth"),withCredentials:!0});this.service=t}return Object(o.a)(e,[{key:"signUp",value:function(e){var t=new FormData;return Object.keys(e).forEach(function(a){return t.append(a,e[a])}),this.service.post("/signup",t).then(function(e){return e.data}).catch(this.errorHandler)}},{key:"getLoggedInUser",value:function(){return this.service.get("/loggedin").then(function(e){return e.data}).catch(this.errorHandler)}},{key:"logIn",value:function(e){return this.service.post("/login",e).then(function(e){return e.data}).catch(this.errorHandler)}},{key:"logOut",value:function(){return this.service.post("/logout",{}).then(function(e){return e.data}).catch(this.errorHandler)}}]),e}(),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChangeInput=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.service.logIn(a.state).then(function(e){a.props.setLoggedInUser(e)}).catch(function(e){})},a.onClickSignUp=function(){a.props.history.push("/signup")},a.service=new b,a.state={username:"",password:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.user?s.a.createElement(m.a,{to:"/profile/".concat(this.props.user._id)}):s.a.createElement("div",{className:"p-grid p-justify-center p-align-center authpage"},s.a.createElement("div",{className:"p-col-10 p-md-6"},s.a.createElement(d.Panel,{header:"Login"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"p-grid p-fluid p-justify-center"},s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-user"})),s.a.createElement(g.InputText,{placeholder:"Username",name:"username",onChange:this.onChangeInput,required:!0}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-key"})),s.a.createElement(g.InputText,{type:"password",placeholder:"Password",name:"password",onChange:this.onChangeInput,required:!0}))),s.a.createElement("div",{className:"p-col-5"},s.a.createElement(f.Button,{label:"Login",className:"p-button-success",type:"submit"})),s.a.createElement("div",{className:"p-col-5"},s.a.createElement(f.Button,{onClick:this.onClickSignUp,label:"Signup",className:"p-button-info",type:"button"})))))))}}]),t}(s.a.Component),N=Object(m.g)(y),j=a(17),C=a(79),O=a(36),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).professionItems=[{label:"Musician",value:"musician"},{label:"Lecturer",value:"lecturer"},{label:"Yoga teacher",value:"yogateacher"},{label:"Chef",value:"chef"},{label:"Standup comedian",value:"standupcomedian"},{label:"Developer",value:"Developer"}],a.onChangeInput=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.onUpload=function(e){a.setState({image:e.target.files[0]})},a.handleSubmit=function(e){e.preventDefault(),a.state.image||a.messages.show({severity:"error",summary:"Upload profile image"}),a.service.signUp(a.state).then(function(e){a.props.setLoggedInUser(e)}).catch(function(e){})},a.service=new b,a.state={fullname:"",username:"",password:"",contact:"",email:"",profession:"",image:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.props.user?s.a.createElement(m.a,{to:"/profile/".concat(this.props.user._id)}):s.a.createElement("div",{className:"p-grid p-justify-center p-align-center authpage"},s.a.createElement("div",{className:"p-col-10 p-md-6"},s.a.createElement(d.Panel,{header:"Signup"},s.a.createElement(j.Messages,{className:"p-col-10",ref:function(t){return e.messages=t},life:"5000"}),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"p-grid p-fluid p-justify-center"},s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-user"})),s.a.createElement(g.InputText,{placeholder:"Username",name:"username",onChange:this.onChangeInput,required:!0}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-info"})),s.a.createElement(g.InputText,{placeholder:"Fullname",name:"fullname",onChange:this.onChangeInput,required:!0}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-key"})),s.a.createElement(C.Password,{placeholder:"Password",name:"password",onChange:this.onChangeInput,required:!0}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-envelope"})),s.a.createElement(g.InputText,{placeholder:"Email",type:"email",name:"email",onChange:this.onChangeInput,required:!0}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-mobile"})),s.a.createElement(g.InputText,{placeholder:"Contact",required:!0,name:"contact",onChange:this.onChangeInput}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement(O.Dropdown,{required:!0,value:this.state.profession,name:"profession",options:this.professionItems,onChange:this.onChangeInput,placeholder:"Select your profession"}))),s.a.createElement("div",{className:"p-col-8"},s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement("span",{className:"p-inputgroup-addon"},s.a.createElement("i",{className:"pi pi-image"})),s.a.createElement("input",{type:"file",name:"image",id:"file",class:"inputfile",onChange:this.onUpload}))),s.a.createElement("div",{className:"p-col-5"},s.a.createElement(f.Button,{label:"Signup",className:"p-button-success",type:"submit"})))))))}}]),t}(s.a.Component),S=a(80),w=a.n(S),I=a(172),R=a(173),D=a(11),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).professionItems=[{label:"Musician",value:"musician"},{label:"Lecturer",value:"lecturer"},{label:"Yoga teacher",value:"yogateacher"},{label:"Chef",value:"chef"},{label:"Standup comedian",value:"standupcomedian"},{label:"Developer",value:"Developer"}],a.onChange=function(e){a.setState({profession:e.target.value}),a.props.history.push("/explore/".concat(e.target.value))},a.state={profession:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(I.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",className:"top"},s.a.createElement(I.a.Brand,null,s.a.createElement(D.b,{to:"/"},s.a.createElement("img",{className:"logo",src:w.a,alt:"pic"}))),s.a.createElement(I.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),s.a.createElement(I.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},s.a.createElement(R.a,null,this.props.user?s.a.createElement(s.a.Fragment,null,s.a.createElement(R.a.Link,{href:"#",onClick:this.props.logout,className:"text-danger"},"Logout"),s.a.createElement(D.b,{className:"text-info nav-link",to:"/profile/".concat(this.props.user._id)},"Home")):"",s.a.createElement(O.Dropdown,{required:!0,name:"profession",value:this.state.profession,options:this.professionItems,onChange:this.onChange,placeholder:"Explore professionals"}))))}}]),t}(s.a.Component),U=Object(m.g)(x),H=a(83),L=a.n(H),P=a(84),F=a.n(P),A=a(85),M=a.n(A),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateEntryKey=function(e){a.setState({entryKey:e.target.value})},a.enterRatingSession=function(){a.state.entryKey?a.props.history.push("/rating/".concat(a.state.entryKey)):a.messages.show({severity:"error",summary:"Enter valid session key"})},a.state={entryKey:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"p-grid p-justify-center p-align-center"},s.a.createElement("div",{className:"p-col-12"},s.a.createElement(j.Messages,{ref:function(t){return e.messages=t},life:"5000"}),s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement(f.Button,{label:"Enter",onClick:this.enterRatingSession}),s.a.createElement(g.InputText,{placeholder:"Enter key from screen",onChange:this.updateEntryKey}))))}}]),t}(s.a.Component),T=Object(m.g)(B),_=a(32),q=a(38),z=a(41),K=a(42);function G(){var e={marginRight:"10px"};return s.a.createElement("footer",{id:"sticky-footer",className:"py-3 bg-dark text-white-50"},s.a.createElement("div",{className:"container text-center"},s.a.createElement("small",null,"Copyright \xa9 Rateit.live"),s.a.createElement("p",null,s.a.createElement(z.a,{color:"white",icon:K.a,style:e}),s.a.createElement(z.a,{color:"white",icon:K.c,style:e}),s.a.createElement(z.a,{color:"white",icon:K.b,style:e}))))}var J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onPresenterClick=function(){a.props.loggedInUser?a.props.history.push("/profile/".concat(a.props.loggedInUser._id)):a.props.history.push("/login")},a.onAudienceClick=function(){a.setState({visible:!0})},a.onHide=function(){a.setState({visible:!1})},a.state={visible:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("img",{alt:"Card",src:F.a}),t=s.a.createElement("img",{alt:"Card",src:M.a});return s.a.createElement(s.a.Fragment,null,s.a.createElement(q.Dialog,{header:"Enter Details",visible:this.state.visible,onHide:this.onHide,maximizable:!0},s.a.createElement(T,null)),s.a.createElement("div",{className:"p-grid p-justify-center p-align-center authpage"},s.a.createElement("div",{className:"homeCards",onClick:this.onPresenterClick},s.a.createElement(_.Card,{header:e},s.a.createElement("h5",{className:"text-center"},"Presenter"))),s.a.createElement("div",{className:"homeCards",onClick:this.onAudienceClick},s.a.createElement(_.Card,{header:t},s.a.createElement("h5",{className:"text-center"},"Audience")))),s.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0,id:"myVideo"},s.a.createElement("source",{src:L.a,type:"video/mp4"})),s.a.createElement(G,null))}}]),t}(s.a.Component),Y=Object(m.g)(J),V=function(){function e(){Object(c.a)(this,e),this.errorHandler=function(e){throw e};var t=E.a.create({baseURL:"".concat("https://rateit-live.herokuapp.com/api","/session"),withCredentials:!0});this.service=t}return Object(o.a)(e,[{key:"create",value:function(e){return this.service.post("/create",e).then(function(e){return e.data}).catch(this.errorHandler)}},{key:"update",value:function(e){return this.service.post("/update",e).then(function(e){return e.data}).catch(this.errorHandler)}},{key:"finish",value:function(e){return this.service.post("/finish",e).then(function(e){return e.data}).catch(this.errorHandler)}}]),e}(),W=function(){function e(){Object(c.a)(this,e),this.errorHandler=function(e){throw e};var t=E.a.create({baseURL:"".concat("https://rateit-live.herokuapp.com/api","/user"),withCredentials:!0});this.service=t}return Object(o.a)(e,[{key:"details",value:function(e){return this.service.post("/details",e).then(function(e){return e.data}).catch(this.errorHandler)}}]),e}(),$=a(29),Q=a(87),X=a.n(Q),Z=a(30),ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateSessionName=function(e){a.setState({sessionName:e.target.value})},a.createSession=function(){a.state.sessionName?a.sessionService.create({name:a.state.sessionName}).then(function(e){a.props.history.push("/session/".concat(e._id))}).catch(function(e){}):a.messages.show({severity:"error",summary:"Enter valid session name"})},a.sessionService=new V,a.userService=new W,a.state={sessionName:null,user:null,sessions:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.userService.details({userId:this.props.match.params.userId}).then(function(t){e.setState({user:t.user,sessions:t.sessions})}).catch(function(e){})}},{key:"render",value:function(){var e=this,t=this.props.match.params.userId,a=this.props.loggedInUser?this.props.loggedInUser._id:null;return s.a.createElement("div",{className:"p-grid p-dir-col p-justify-center p-align-center pages presenter"},this.state.user?s.a.createElement(s.a.Fragment,null,s.a.createElement($.a,{className:"p-col-10 p-md-10",user:this.state.user}),s.a.createElement("div",{className:"p-col-10 p-md-4"},t===a?s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",{className:"display-5"},"Create New Session"),s.a.createElement(j.Messages,{ref:function(t){return e.messages=t},life:"5000"}),s.a.createElement("div",{className:"p-inputgroup"},s.a.createElement(f.Button,{label:"Create",onClick:this.createSession}),s.a.createElement(g.InputText,{placeholder:"Enter session name",onChange:this.updateSessionName}))):""),s.a.createElement("div",{className:"p-col-10 p-md-10 mt-2"},s.a.createElement("h5",{className:"display-5"},"Or view previous sessions"),s.a.createElement(X.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Audience"),s.a.createElement("th",null,"Rating"))),s.a.createElement("tbody",null,this.state.sessions.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,s.a.createElement(D.b,{to:"/".concat(e.link)},e.name)),s.a.createElement("td",null,e.totalAudience),s.a.createElement("td",null,e.rating))}))))):s.a.createElement(Z.ProgressSpinner,null))}}]),t}(n.Component),te=Object(m.g)(ee),ae=a(153);function ne(e){return s.a.createElement("div",{className:"p-grid p-justify-center p-align-center"},s.a.createElement("h1",{className:"display-2 text-danger m-4"},e.invitekey),s.a.createElement(ae,{value:"http://rateit.live/rating/".concat(e.invitekey),size:375,renderAs:"svg",includeMargin:!0,className:"m-2"}))}var se=a(50),re=function(){function e(){Object(c.a)(this,e),this.errorHandler=function(e){throw e};var t=E.a.create({baseURL:"".concat("https://rateit-live.herokuapp.com/api","/session-rating"),withCredentials:!0});this.service=t}return Object(o.a)(e,[{key:"details",value:function(e){return this.service.post("/details",e).then(function(e){return e.data}).catch(this.errorHandler)}}]),e}(),ie=a(51),ce=a.n(ie),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).chartOptions={animation:{duration:0}},a.stopSession=function(){a.sessionService.finish({id:a.state.session._id,status:"FINISHED",rating:a.state.lastRating,totalAudience:a.state.totalAudience}).then(function(e){a.messages.show({severity:"info",summary:"Session successfully ended"}),a.pollSessionData()})},a.startSession=function(){a.sessionService.update({id:a.props.match.params.sessionId,status:"PROGRESS"}).then(function(e){a.messages.show({severity:"success",summary:"Session successfully started"}),a.pollSessionData()})},a.pollSessionData=function(){var e=setInterval(function(){a.sessionRatingService.details({sessionId:a.props.match.params.sessionId}).then(function(t){ce()(t.sessionRatings,a.state.sessionRatings)&&ce()(t.session,a.state.session)||a.setState({session:t.session,pieChartData:t.userRatings&&a.getPieChartData(t.userRatings),lineChartData:t.sessionRatings&&a.getLineChartData(t.sessionRatings),sessionRatings:t.sessionRatings,lastRating:t.lastRating,totalAudience:t.totalAudience}),"PROGRESS"!==t.session.status&&clearInterval(e)})},5e3)},a.onClickInviteDetails=function(){a.setState({visible:!0})},a.onHideInviteDetails=function(){a.setState({visible:!1})},a.sessionRatingService=new re,a.sessionService=new V,a.state={visible:!1,session:null,sessionData:null,pieChartData:null,lineChartData:null,lastRating:null,totalAudience:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getEmojiOnRating",value:function(e){switch(parseInt(e)){case 1:return"\ud83e\udd12";case 2:return"\ud83d\ude23";case 3:return"\ud83d\ude15";case 4:return"\ud83d\ude0e";case 5:return"\ud83e\udd11";default:return"\ud83d\ude0e"}}},{key:"getPieChartData",value:function(e){var t=this;return{labels:Object.keys(e).map(function(e){return t.getEmojiOnRating(e)}),datasets:[{data:Object.values(e),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}}},{key:"getLineChartData",value:function(e){return{labels:Object.keys(e).map(function(e){var t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}),datasets:[{label:"Rating",data:Object.values(e),fill:!1,backgroundColor:"#42A5F5",borderColor:"#42A5F5"}]}}},{key:"componentDidMount",value:function(){var e=this;this.sessionRatingService.details({sessionId:this.props.match.params.sessionId}).then(function(t){e.setState({session:t.session,pieChartData:t.userRatings&&e.getPieChartData(t.userRatings),lineChartData:t.sessionRatings&&e.getLineChartData(t.sessionRatings),lastRating:t.lastRating,totalAudience:t.totalAudience,sessionRatings:t.sessionRatings}),"PROGRESS"===t.session.status&&e.pollSessionData()})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"p-grid p-justify-center pages"},s.a.createElement(j.Messages,{className:"p-col-10",ref:function(t){return e.messages=t}}),this.state.session?s.a.createElement(s.a.Fragment,null,s.a.createElement(q.Dialog,{header:"Joining Details",visible:this.state.visible,onHide:this.onHideInviteDetails,maximizable:!0},s.a.createElement(ne,{invitekey:this.state.session.invitekey})),s.a.createElement("div",{className:"p-col-10 p-md-5"},s.a.createElement(d.Panel,{header:"Session Summary"},s.a.createElement("div",{className:"p-grid p-dir-col"},this.state.lastRating?s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"p-col-12 text-center display-2"},this.state.lastRating),s.a.createElement("h5",{className:"p-col-12 text-center display-5"},"Total Audience:"," ",s.a.createElement("span",{class:"text-success"},this.state.totalAudience))):s.a.createElement("h3",{className:"p-col-12 text-center display-3"},"No Data"),s.a.createElement("h5",{className:"p-col-12 text-center display-6"},"Presenter:"," ",s.a.createElement(D.b,{className:"text-center",to:"/profile/".concat(this.state.session.creator._id)},this.state.session.creator.fullname)),s.a.createElement(f.Button,{label:"Joining Details",className:"p-button-info mb-1",type:"button",onClick:this.onClickInviteDetails}),this.props.loggedInUser&&this.state.session.creator._id===this.props.loggedInUser._id&&"PROGRESS"===this.state.session.status?s.a.createElement(f.Button,{label:"Finish Session",className:"p-button-danger",onClick:this.stopSession,type:"button"}):"",this.props.loggedInUser&&this.state.session.creator._id===this.props.loggedInUser._id&&"NOTSTARTED"===this.state.session.status?s.a.createElement(f.Button,{label:"Start Session",className:"p-button-success",onClick:this.startSession,type:"button"}):""))),s.a.createElement("div",{className:"p-col-10 p-md-5"},s.a.createElement(d.Panel,{header:"Audience rating"},this.state.pieChartData?s.a.createElement(se.Chart,{type:"doughnut",data:this.state.pieChartData}):s.a.createElement("h3",{className:"p-col-12 text-center display-2"},"No Data"))),s.a.createElement("div",{className:"p-col-10"},s.a.createElement(d.Panel,{header:"Average rating"},this.state.lineChartData?s.a.createElement(se.Chart,{type:"line",data:this.state.lineChartData}):s.a.createElement("h3",{className:"p-col-12 text-center display-3"},"No Data")))):s.a.createElement(Z.ProgressSpinner,{className:"p-col-10"}))}}]),t}(n.Component),le=a(88),ue=a.n(le),pe=a(89),me=a.n(pe),he=function(){function e(){Object(c.a)(this,e),this.errorHandler=function(e){throw e};var t=E.a.create({baseURL:"".concat("https://rateit-live.herokuapp.com/api","/rating"),withCredentials:!0});this.service=t}return Object(o.a)(e,[{key:"user",value:function(e){return this.service.post("/user",e).then(function(e){return e.data}).catch(this.errorHandler)}},{key:"update",value:function(e){return this.service.post("/update",e).then(function(e){return e.data}).catch(this.errorHandler)}}]),e}(),de=a(31),ge={fontSize:"42px",transform:"rotate(30deg)",cursor:"pointer"},fe={fontSize:"42px",cursor:"pointer"},ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hover:!1},a.handleHover=a.handleHover.bind(Object(de.a)(a)),a.handleLeave=a.handleLeave.bind(Object(de.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleHover",value:function(){this.setState({hover:!0})}},{key:"handleLeave",value:function(){this.setState({hover:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.hover?s.a.createElement("span",{onClick:function(){return e.props.onClickRating(e.props.rating)},onMouseLeave:this.handleLeave,style:ge},this.props.emoji):s.a.createElement("span",{onMouseOver:this.handleHover,style:fe},this.props.emoji))}}]),t}(n.Component),Ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getMessageOnRating=function(e){a.messages.clear(),e.rating?a.messages.show({severity:"success",summary:"Your last rating is "+a.getEmojiOnRating(e.rating.rating),sticky:!0,closable:!1}):a.messages.show({severity:"info",summary:"You have no rating yet",sticky:!0,closable:!1})},a.onClickRating=function(e){a.ratingService.update({rating:e,time:(new Date).getTime(),fp:a.state.fp,invitekey:a.props.match.params.invitekey}).then(function(e){a.setState({rating:e.rating,session:e.session}),a.getMessageOnRating(e)}).catch(function(e){a.messages.show({severity:"warn",summary:e.response.data.message})})},a.ratingService=new he,a.state={fp:null,rating:null,session:null,creator:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getEmojiOnRating",value:function(e){switch(e){case 1:return"\ud83e\udd12 Not Satisfied";case 2:return"\ud83d\ude23 Slightly Satisfied";case 3:return"\ud83d\ude15 Neutral";case 4:return"\ud83d\ude0e Satisfied";case 5:return"\ud83e\udd11Fully Satisfied";default:return"\ud83d\ude0e"}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.invitekey;new Promise(function(e){ue.a.get(function(t){e(me()(t))})}).then(function(a){e.setState({fp:a}),e.ratingService.user({fp:a,invitekey:t}).then(function(t){e.setState({rating:t.rating,session:t.session,creator:t.session.creator}),e.getMessageOnRating(t)}).catch(function(e){})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"p-grid p-dir-col p-justify-center p-align-center pages"},this.state.creator?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"p-col-10"},s.a.createElement(j.Messages,{className:"p-col-12",ref:function(t){return e.messages=t}}),s.a.createElement(d.Panel,{header:"Session Name: ".concat(this.state.session.name)},s.a.createElement("div",{className:"p-grid p-justify-around"},s.a.createElement(ve,{rating:1,onClickRating:this.onClickRating,emoji:"\ud83e\udd12"}),s.a.createElement(ve,{rating:2,onClickRating:this.onClickRating,emoji:"\ud83d\ude23"}),s.a.createElement(ve,{rating:3,onClickRating:this.onClickRating,emoji:"\ud83d\ude15"}),s.a.createElement(ve,{rating:4,onClickRating:this.onClickRating,emoji:"\ud83d\ude0e"}),s.a.createElement(ve,{rating:5,onClickRating:this.onClickRating,emoji:"\ud83e\udd11"})))),s.a.createElement($.a,{className:"p-col-10",user:this.state.creator})):s.a.createElement(Z.ProgressSpinner,null))}}]),t}(n.Component),be=function(){function e(){Object(c.a)(this,e),this.errorHandler=function(e){throw e};var t=E.a.create({baseURL:"".concat("https://rateit-live.herokuapp.com/api","/explore"),withCredentials:!0});this.service=t}return Object(o.a)(e,[{key:"find",value:function(e){return this.service.post("/profession  ",e).then(function(e){return e.data}).catch(this.errorHandler)}}]),e}(),ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getProfessionals=function(){a.exploreService.find({profession:a.props.match.params.profession}).then(function(e){a.setState({professionals:e}),a.messages.show({severity:"success",summary:" Explore ".concat(a.props.match.params.profession," professionals below!")})}).catch(function(e){a.setState({professionals:null}),a.messages.show({severity:"info",summary:" No ".concat(a.props.match.params.profession," professionals yet!")})})},a.exploreService=new be,a.state={professionals:null,profession:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.profession!==this.props.match.params.profession&&this.getProfessionals()}},{key:"componentDidMount",value:function(){this.getProfessionals()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"p-grid p-justify-start p-align-center pages"},s.a.createElement(j.Messages,{className:"p-col-12",ref:function(t){return e.messages=t}}),s.a.createElement("h5",{className:"display-5 p-col-12"},"Explore all ".concat(this.props.match.params.profession," below")),this.state.professionals?s.a.createElement("div",{className:"p-col-12 p-md-3"},this.state.professionals.map(function(e){return s.a.createElement($.a,{user:e})})):s.a.createElement("h4",null,"No Data"))}}]),t}(n.Component),Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setLoggedInUser=function(e){a.setState({user:e})},a.logout=function(){a.service.logOut().then(function(){return a.setLoggedInUser(null)}).catch(function(e){})},a.state={user:null},a.service=new b,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.user&&this.service.getLoggedInUser().then(function(t){return e.setLoggedInUser(t)}).catch(function(e){})}},{key:"render",value:function(){var e=this;return this.fetchUser(),s.a.createElement(s.a.Fragment,null,s.a.createElement(U,{logout:this.logout,user:this.state.user}),s.a.createElement(m.d,null,s.a.createElement(m.b,{path:"/login",render:function(t){return s.a.createElement(N,Object.assign({},t,{setLoggedInUser:e.setLoggedInUser,user:e.state.user}))}}),s.a.createElement(m.b,{path:"/signup",render:function(t){return s.a.createElement(k,Object.assign({},t,{setLoggedInUser:e.setLoggedInUser,user:e.state.user}))}}),s.a.createElement(m.b,{path:"/profile/:userId",render:function(t){return s.a.createElement(te,Object.assign({},t,{loggedInUser:e.state.user}))}}),s.a.createElement(m.b,{path:"/session/:sessionId",render:function(t){return s.a.createElement(oe,Object.assign({},t,{loggedInUser:e.state.user}))}}),s.a.createElement(m.b,{path:"/rating/:invitekey",component:Ee}),"} />",s.a.createElement(m.b,{path:"/explore/:profession",component:ye}),"} />",s.a.createElement(m.b,{path:"/",render:function(t){return s.a.createElement(Y,Object.assign({},t,{loggedInUser:e.state.user}))}})))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(163),a(164),a(165),a(166),a(167),a(168);i.a.render(s.a.createElement(D.a,null,s.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},29:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return l});var n=a(0),s=a.n(n),r=a(32),i=a(11),c=a(86),o=a.n(c);function l(t){var a="data:image/jpeg;base64,".concat(new e(t.user.image.data).toString("base64")),n=s.a.createElement("img",{alt:"Card",className:"p-4",src:a});return s.a.createElement(r.Card,{header:n,className:"presenter-card mt-2 p-grid p-dir-column p-justify-around p-align-center"},s.a.createElement("h5",{className:"text-center"},t.user.fullname),s.a.createElement("h6",{className:"text-center"},s.a.createElement(i.b,{to:"/profile/".concat(t.user._id)},"View Profile")),s.a.createElement(o.a,{rating:t.user.rating,starRatedColor:"#fab120",starDimension:"20px",starSpacing:"5px",numberOfStars:5,name:"rating"}),s.a.createElement("h6",{className:"display-6 text-center"},"(",t.user.totalSessions,")"))}}).call(this,a(143).Buffer)},80:function(e,t,a){e.exports=a.p+"static/media/rateitlogo.725e37e8.png"},83:function(e,t,a){e.exports=a.p+"static/media/ws.56bd8005.mp4"},84:function(e,t,a){e.exports=a.p+"static/media/presenter.a4777958.jpg"},85:function(e,t,a){e.exports=a.p+"static/media/audience.1db0dbe7.jpg"},90:function(e,t,a){e.exports=a(169)}},[[90,1,2]]]);
//# sourceMappingURL=main.ae8f0254.chunk.js.map